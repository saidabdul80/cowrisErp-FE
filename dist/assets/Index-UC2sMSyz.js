import{_ as f,u as h,e as _,T as g,c as k,b as S,a as c,w as a,r as d,o as C,f as i,t as l}from"./index-abnNJ1tZ.js";import{D as b}from"./Table-Dv6dmHVb.js";const y={data(){return{name:"Admins",adminStore:h(),globals:_(),sents:{},searchInput:"",headers:[{title:"S/N",key:"sn"},{title:"Transaction Ref",key:"transaction_ref"},{title:"Amount",key:"amount"},{title:"Customer Email",key:"cemail"},{title:"Customer Full Name",key:"cfull_name"},{title:"Recipient Email",key:"cemail"},{title:"Recipient Full_name",key:"rfull_name"},{title:"Description",key:"notes"},{title:"Status",key:"status"}]}},created(){this.adminStore.fetchSent()},components:{TextField:g,DataTable:b},watch:{"globals.filters":{handler:function(n){(this.globals.activeTab=="Admins"||this.globals.activeTab==null)&&this.adminStore.fetchSent(n)},deep:!0}},computed:{},methods:{handleRowClick(n){console.log("Row clicked:",n)},handlePageChange(n){this.adminStore.fetchSent(this.globals.filters,n)},navigateToNewAdmin(){this.$router.push("/admin/users/add-corporate-taxpayer")}}};function v(n,s,T,R,o,m){const r=d("v-btn"),u=d("v-chip"),p=d("DataTable");return C(),k("div",null,[S("div",{class:"tw-flex tw-place-content-end",onClick:s[0]||(s[0]=e=>o.adminStore.fetchSent())},[c(r,{class:"tw-self-end",icon:"mdi-reload",flat:""})]),c(p,{loading:o.adminStore.sentsLoading,headers:o.headers,paginationData:o.adminStore.sents,onRowClick:m.handleRowClick,onPageChange:m.handlePageChange},{"td-cemail":a(({row:e})=>{var t;return[i(l((t=e==null?void 0:e.customer_detail)==null?void 0:t.email),1)]}),"td-cfull_name":a(({row:e})=>{var t;return[i(l((t=e==null?void 0:e.customer_detail)==null?void 0:t.full_name),1)]}),"td-recipient_email":a(({row:e})=>{var t;return[i(l((t=e==null?void 0:e.recipient_detail)==null?void 0:t.email),1)]}),"td-rfull_name":a(({row:e})=>{var t;return[i(l((t=e==null?void 0:e.recipient_detail)==null?void 0:t.full_name),1)]}),"td-description":a(({row:e})=>[i(l(e==null?void 0:e.description),1)]),"td-status":a(({row:e})=>{var t;return[c(u,{size:"small",color:((t=e==null?void 0:e.status)==null?void 0:t.toLowerCase())==="completed"?"#065F46":"#991B1B",class:"tw-py-0 tw-flex tw-justify-center tw-font-bold tw-capitalize"},{default:a(()=>[i(l(e.status.toLowerCase()),1)]),_:2},1032,["color"])]}),"td-action":a(({row:e})=>[c(r,{onClick:s[1]||(s[1]=t=>n.$route.push("/admin/send")),loading:n.isLoading,color:"primary"},{default:a(()=>[i("Re-Send")]),_:1},8,["loading"])]),_:1},8,["loading","headers","paginationData","onRowClick","onPageChange"])])}const N=f(y,[["render",v]]);export{N as default};
