import{_ as v,o as s,c as a,F as _,i as p,b as n,p as N,j as B,e as O,r as f,k as j,v as L,t as c,a as b,n as y,l as T,m as V}from"./index-CNFcT6hl.js";const X={props:{count:{type:Number,required:!0},columns:{type:Number,required:!0}}},z=e=>(N("data-v-bc3e5c16"),e=e(),B(),e),M={class:"tw-border tw-border-gray-200 tw-rounded-lg"},$={class:"tw-flex"},U=z(()=>n("div",{class:"tw-w-20 tw-h-[22px] tw-bg-gray-300 tw-animate-pulse"},null,-1)),E=[U];function G(e,o,t,k,w,r){return s(),a("div",M,[(s(!0),a(_,null,p(t.count,u=>(s(),a("div",{key:u,class:"tw-p-2 tw-border-b tw-border-gray-200"},[n("div",$,[(s(!0),a(_,null,p(t.columns,h=>(s(),a("div",{key:h,class:"tw-flex-1 tw-p-0"},E))),128))])]))),128))])}const H=v(X,[["render",G],["__scopeId","data-v-bc3e5c16"]]),J={props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},rowsPerPage:{type:Number,required:!0},totalItems:{type:Number,required:!0},rowsPerPageOptions:{type:Array,default:()=>[10,25,50,100]},meta:{type:Object,default:{}},links:{type:Object,default:{}}},computed:{startRow(){return(this.currentPage-1)*this.rowsPerPage+1},endRow(){return Math.min(this.currentPage*this.rowsPerPage,this.totalItems)}},data(){return{globals:O(),rowsPerPageX:10}},created(){this.rowsPerPageX=this.rowsPerPage},methods:{changePage(e){this.$emit("page-change",e)},changeRowsPerPage(e){this.globals.filters.paginate=parseInt(e.target.value),this.$emit("rows-per-page-change",parseInt(e.target.value))}}},K=e=>(N("data-v-1c6d4d32"),e=e(),B(),e),Q={class:"tw-flex tw-items-center"},W=K(()=>n("span",{class:"tw-text-sm tw-text-gray-700"},"Rows per page:",-1)),Y=["value"],Z={class:"tw-flex tw-items-center"},ee={class:"tw-text-sm tw-text-gray-700"},te={class:"tw-text-sm tw-text-gray-700"};function se(e,o,t,k,w,r){var h,m;const u=f("v-btn");return s(),a("div",{class:y(["tw-flex tw-items-center tw-justify-between tw-bg-gray-50 tw-px-4 tw-py-1 sm:tw-rounded-lg",`tw-text-[${e.$constants.secondary_light}]`])},[n("div",Q,[W,j(n("select",{"onUpdate:modelValue":o[0]||(o[0]=l=>w.rowsPerPageX=l),onChange:o[1]||(o[1]=(...l)=>r.changeRowsPerPage&&r.changeRowsPerPage(...l)),class:"tw-ml-2 tw-block tw-px-3 tw-mt-1 tw-text-base tw-text-gray-700 tw-bg-white tw-border tw-border-gray-300 tw-rounded-md tw-shadow-sm tw-focus:outline-none tw-focus:ring-2 tw-focus:ring-indigo-500 tw-focus:border-indigo-500 sm:tw-text-sm"},[(s(!0),a(_,null,p(t.rowsPerPageOptions,(l,i)=>(s(),a("option",{key:i,value:l},c(l),9,Y))),128))],544),[[L,w.rowsPerPageX]])]),n("div",Z,[b(u,{disabled:((h=t.links)==null?void 0:h.prev)===null,onClick:o[2]||(o[2]=l=>{var i;return r.changePage((i=t.links)==null?void 0:i.prev)}),class:y(["tw-text-gray-600","tw-rounded-md tw-p-0"]),icon:"mdi-chevron-left",size:"small",variant:"none",flat:""},null,8,["disabled"]),n("span",ee,c(t.currentPage)+" of "+c(t.totalPages),1),b(u,{disabled:((m=t.links)==null?void 0:m.next)===null,onClick:o[3]||(o[3]=l=>{var i;return r.changePage((i=t.links)==null?void 0:i.next)}),class:y(["tw-text-gray-600","tw-rounded-md tw-p-0"]),icon:"mdi-chevron-right",size:"small",variant:"none",flat:""},null,8,["disabled"])]),n("div",te," Showing "+c(r.startRow)+" to "+c(r.endRow)+" of "+c(t.totalItems),1)],2)}const ae=v(J,[["render",se],["__scopeId","data-v-1c6d4d32"]]),ne={props:{headers:{type:Array,required:!0},paginationData:{type:Object,required:!0},loading:{type:Boolean,default:!1}},data(){return{rows:10,selectAll:!1,selectedRows:[]}},components:{TableLoader:H,Pagination:ae},watch:{selectAll(e){e?this.selectedRows=this.paginationData.data.map(o=>o):this.selectedRows=[]},selectedRows:{handler(e){this.selectAll=e.length===this.paginationData.data.length},deep:!0}},methods:{handleRowClick(e){this.$emit("row-click",e)},toggleAll(){this.selectAll?this.selectedRows=[]:this.selectedRows=this.paginationData.data.map(e=>e),this.selectAll=!this.selectAll},changePage(e){this.$emit("page-change",e)},changeRowsPerPage(e){this.rows=e,this.$emit("page-length",e)}}},oe={class:"tw-overflow-x-auto tw-p-1 sm:tw-rounded-md"},re={key:0,class:"table-shadow-sm tw-border-[2px] tw-border-gray-200 tw-rounded-lg tw-overflow-auto"},le={class:"tw-min-w-full tw-bg-white tw-overflow-hidden tw-rounded-lg tw-text-md"},ie={class:""},de={class:"tw-px-6 tw-py-3 tw-text-left tw-font-bold tw-bg-[#F9FAFB] tw-border-b-[2px] tw-border-gray-200"},ce=["checked"],we={class:"tw-divide-y tw-divide-gray-200 tw-text-[14px]"},ge=["onClick"],ue={class:"tw-px-6 tw-py-1"},he=["value"],_e={key:0},pe={key:1},me={key:0},ye={key:1},be={key:1},Pe={class:"tw-mt-5"};function fe(e,o,t,k,w,r){var m,l,i,x,R,C,D,A,I,S;const u=f("TableLoader"),h=f("Pagination");return s(),a("div",oe,[t.loading?(s(),a("div",be,[b(u,{count:w.rows,columns:t.headers.length+1},null,8,["count","columns"])])):(s(),a("div",re,[n("table",le,[n("thead",ie,[n("tr",null,[n("th",de,[n("input",{type:"checkbox",onChange:o[0]||(o[0]=(...d)=>r.toggleAll&&r.toggleAll(...d)),checked:w.selectAll},null,40,ce)]),(s(!0),a(_,null,p(t.headers,d=>(s(),a("th",{key:d.key,class:"tw-bg-[#F9FAFB] tw-font-bold tw-px-6 tw-py-3 tw-text-left tw-text-gray-400 tw-uppercase tw-tracking-wider tw-border-b-[2px] tw-border-gray-200"},c(d.title),1))),128))])]),n("tbody",we,[(s(!0),a(_,null,p((m=t.paginationData)==null?void 0:m.data,(d,P)=>(s(),a("tr",{key:P,onClick:g=>r.handleRowClick(d),class:y([P%2===0?"tw-bg-white":"tw-bg-gray-100","tw-cursor-pointer hover:tw-bg-gray-50"])},[n("td",ue,[j(n("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=g=>w.selectedRows=g),value:d},null,8,he),[[T,w.selectedRows]])]),(s(!0),a(_,null,p(t.headers,g=>{var q,F;return s(),a("td",{key:g.key,class:"tw-px-6 tw-py-1"},[g.key=="sn"?(s(),a("span",_e,c(P+((F=(q=t.paginationData)==null?void 0:q.meta)==null?void 0:F.from)),1)):(s(),a("span",pe,[e.$slots[`td-${g.key}`]?(s(),a("span",me,[V(e.$slots,`td-${g.key}`,{row:d},void 0,!0)])):(s(),a("span",ye,c(d[g.key]),1))]))])}),128))],10,ge))),128))])])])),n("div",Pe,[b(h,{"current-page":(i=(l=t.paginationData)==null?void 0:l.meta)==null?void 0:i.current_page,"total-pages":(R=(x=t.paginationData)==null?void 0:x.meta)==null?void 0:R.last_page,"rows-per-page":(D=(C=t.paginationData)==null?void 0:C.meta)==null?void 0:D.per_page,"total-items":(I=(A=t.paginationData)==null?void 0:A.meta)==null?void 0:I.total,links:(S=t.paginationData)==null?void 0:S.links,onPageChange:r.changePage,onRowsPerPageChange:r.changeRowsPerPage},null,8,["current-page","total-pages","rows-per-page","total-items","links","onPageChange","onRowsPerPageChange"])])])}const ke=v(ne,[["render",fe],["__scopeId","data-v-f06e8039"]]);export{ke as D};
